<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WebSocket Pygame Example</title>
    <script>
      window.onload = () => {
        if ("WebSocket" in window) {
          const ws = new WebSocket("ws://localhost:8888/websocket");

          ws.onopen = () => {
            console.log("WebSocket connection established");
          };

          ws.onmessage = (event) => {
            const pre = document.createElement("pre");
            pre.textContent = event.data; // sample.pyの内容を表示
            document.body.appendChild(pre);
          };

          ws.onerror = (error) => {
            console.error("WebSocket error:", error);
          };

          ws.onclose = () => {
            console.log("WebSocket connection closed");
          };
        } else {
          console.error("WebSocket is not supported by this browser.");
        }
      };
    </script>
  </head>
  <body>
    <h1>WebSocket Pygame File Content Display</h1>
  </body>
</html>
